@import 'lib';

body.page-civicrm {
  padding-top:3rem; // Allow for CiviCRM's header menu

  h1.page-header {
    display:none; // CiviCRM seems to output this anyways.
  }
}

// CiviCRM override default styles
.crm-container .crm-form-block {
  background-color: white;
}
.crm-container input { box-sizing: border-box; }
#civicrm-menu, #root-menu-div ul,
.ui-widget {
  font-family: Lato;
}
.ui-widget {
  font-size:1em; // disable 1.1
}
#crm-container div.crm-inline-edit,
#crm-container .crm-edit-ready .crm-inline-edit,
.crm-container .crm-editable-enabled {
  border-width:1px;
  &:hover {
    border-width:1px;
  }
}
#crm-container div.crm-inline-edit.form {
  border-width:1px;
}
// jQuery UI {{{
.ui-widget-header {
  background:$colourWidgetBackground;
  border:none;
}
.ui-state-default, .ui-widget-content .ui-state-default, .ui-widget-header .ui-state-default {
  background:$colourWidgetBackground;
  border:none;
  border-radius: 0;
  border-bottom: solid 4px transparent;
  &:hover {
    background: $colourWidgetCouldSelectBackground;
  }
}
.ui-state-active, .ui-widget-content .ui-state-active, .ui-widget-header .ui-state-active {
  background:$colourWidgetBackground;
  border:none;
  border-radius: 0;
  border-bottom: solid 4px $colourArtfulBrightBlue;
  //background: $colourWidgetSelectedBackground;
  &:hover {
    border-bottom-color:$colourArtfulBrightBlue;
  }
  color: $colourArtfulBrightBlue;
  a:link, a:visited {
    color: $colourArtfulBrightBlue;
  }

  // When an active thing has a disabled something, just show it white.
  &.disabled a.ui-tabs-anchor, &.crm-count-0 a.ui-tabs-anchor, &.crm-count-0 a.ui-tabs-anchor em {
  }
}
.crm-container ul li.crm-tab-button {
  border-bottom: solid 3px transparent;
  &.ui-state-active {
    border-bottom-color: $colourArtfulBrightBlue;
  }
}
// }}}
// Shoreditch colours this and this doesn't improve things!
//.crm-container .ui-dialog-titlebar.ui-widget-header {
//  background: $colourDarkGrey;
//}
.crm-container a.button,
.crm-container a.button:link,
.crm-container a.button:visited,
.crm-container input.crm-form-submit,
.crm-container .ui-dialog-buttonset .ui-button,
.crm-container input[type="button"],
.crm-container .crm-button
{
  background: $colourArtfulBrightBlue;
  text-shadow: none;
  border:none;
  box-shadow: 0 0 6px rgba(0,0,0,0.2);
  padding:0.4em 1em;
  &:hover {
    background-color: darken($colourArtfulBrightBlue, 10%);
  }

  float:none;
  display:inline-block;
}

#crm-container ul.wizard-bar {
  border:none;
}
.ui-widget-content {
  border-color: $colourWidgetBorder;
}
.crmMailing .preview-popup, .crmMailing .preview-contact, .crmMailing .preview-group {
  height:6rem;
}
#crm-container .crm-edit-ready .crm-inline-edit:hover .crm-edit-help {
  background-color: $colourHighlight;
}
.crm-container .crm-accordion-header {
  background-color: $colourArtfulBrightBlueHigh;
  color: $colourArtfulDarkBlue;
  &.active {
    background-color: mix($colourArtfulBrightBlueHigh, $colourArtfulBrightBlue, 50%);
    color: $colourArtfulDarkBlue;
  }
  &:hover, &.active:hover {
    background-color: mix($colourArtfulBrightBlueHigh, $colourArtfulBrightBlue, 50%);
  }
}
#crm-container #civicrm-dashboard .widget-controls, // has own css, requires this specificity.
.crm-container .crm-accordion-header {
  background-color: $colourArtfulBrightBlueHigh;
  transition: background-color 0.3s;
}
.crm-container h3 {
  background: $colourArtfulBrightBlueHigh;
}
#crm-container #civicrm-dashboard h3.widget-header {
  color: $colourText;
}

#civicrm-dashboard {
  display: flex;
  flex-wrap: wrap;
  #column-0 {
    flex: 1 0 40%;
  }
  #column-1 {
    flex: 1 0 60%;
  }
}

.crm-tag-item {
  line-height:1.25;
}

// The default font size for data on contact screens etc. is 11px!
.crm-container div.crm-clear {
  font-size:inherit;
}


// Calm bootstrap a bit.
body#bootstrap-theme, #bootstrap-theme {
  font-family: inherit;
  font-size: inherit;
  color: inherit;
  background-color: inherit;
}
#bootstrap-theme {
  @each $h in h1 h2 h3 h4 h5 h6 {
    #{$h} {
      small, .small {
        color:inherit;
      }
    }
  }
}

#printer-friendly {
  display:none; // It's never really printer friendly...
}
@media print {
  #civicrm-footer,
  #access,
  #civicrm-menu
  { display:none; }
  body.page-civicrm {
    padding-top:0;
  }
}

// My Quickform patch for radios.
.crm-profile .radio-wrapper { display:block; }

// Override Mosaico.
#bootstrap-theme .crm-mosaico-template-item {
  display:flex;
  width:100%;
}
#bootstrap-theme .crm-mosaico-template-item .crm-mosaico-template-title-wrapper {
  height:unset;
  flex: 1 0 160px;
}
#bootstrap-theme .crm-mosaico-template-item .crm-mosaico-template-image-wrapper {
  flex: 0 0 160px;
}
