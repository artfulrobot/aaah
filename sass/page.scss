@import 'lib';
@import 'content';
@import 'civicrm';

// Basic layout.
body {
  padding:0;
}

// Layout when sidebar present. {{{
$sidebar_width  : 20rem;
$sidebar_gutter : 2rem;
.has-sidebar {

  #content {
    margin-left:($sidebar_width + $sidebar_gutter);
  }
  aside.sidebar {
    position:fixed;
    top:0;
    left:0;
    width: $sidebar_width;
    bottom:0;
    background-color: $colourDarkGrey;
    // Allow for menu bar at top.
    padding:3rem 0 0;
    overflow-y: auto;
  }
}
//}}}

// Main menu block.
.menu-block-1 {
  ul.menu {
    padding:0;
    margin:0;

    // We need to overcome specificity of drupal system's ul.menu li
    li {
      margin:0;
      list-style:none;
    }
  }
  li, li.leaf {
    padding:0;
  }
  li>a {
    display:block;
    padding:0.5rem 1rem;
    text-decoration: none;
    color: white;
    &.active-trail {
      background-color:$colourMidGrey;
      font-weight: bold;
    }
    &.active {
      background-color: $colourBackground;
      color: $colourText;
    }
  }
}

// DocNav
.docnav__fakeanchor {
  position:absolute;
  margin-top:-3rem;
}
.docnav-wrapper {
  ul.docnav {
    margin:0;
    padding:0;
    list-style:none;
  }
  li {
    margin:0;
    padding:0;
    &.selected-route>a{
      font-weight: bold;
    }
    &.selected>a{
      font-weight: bold;
      // transform:translateX(1rem);
    }
  }
  // By default, sub-lists are not shown.
  li ul {
    display:none;
  }
  // Show children of selected.
  li.selected-route>ul,
  li.selected>ul {
    display:block;
  }

  a {
    display:block;
    padding:0.5rem 1rem;
    transition: all 0.3s;
  }
  // Colours.
  li a {
    text-decoration: none;
  }
  li.depth-0 a {
    background: $colourBackgroundShade;
    color:$colourText;
  }
  li.depth-1 a {
    background: #555;
    color:white;
  }
  li.depth-2 a {
    background: #f8f8f8;
    color: #222;
  }
  @each $i in 0 1 2 3 4 5 6 {
    li.depth-#{$i} a {
      padding-left: (1rem + 1rem * $i);
    }
  }
}
@keyframes attn {
  0% { transform:none; }
  20% { transform:translate(0, -3px); }
  50% { transform:translate(0, -5px); }
  80% { transform:translate(0, -3px); }
  100% { transform:none; }
}
.attention {
  animation: attn 0.2s forwards linear;
}

// Local overrides.
@import 'feast';
